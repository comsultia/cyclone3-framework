sub BaseModul
{
# $HTML_HEADER{BODY}{extract}="yes";
 my $mdl_temp="$form{table}:$form{id}";

 my $db_name=$form{db_name};
 $db_name=$MAIN_db_name unless (exists $form{db_name});

 my $id=$form{id};
 $db_micro = $dbh->Query("SELECT ID,active FROM $db_name.$form{table} WHERE ID='$id' LIMIT 1");
 if (@db_micro_line=$db_micro->FetchRow())
 {
  if ($db_micro_line[1] eq "Y")
  {
   &save_log(1,"deactivating $db_name.$form{table} id=$id");
   $dbh->Query("UPDATE $db_name.$form{table} SET active='N' WHERE ID='$id' LIMIT 1");
   print "Location: $tom::H_media/grf/admin/list_r.gif\n\n";
	$mdl_temp.="red";
  }
  else
  {
   &save_log(1,"activating $db_name.$form{table} id=$id");
   $dbh->Query("UPDATE $db_name.$form{table} SET active='Y' WHERE ID='$id' LIMIT 1");
   print "Location: $tom::H_media/grf/admin/list_g.gif\n\n";
	$mdl_temp.="UPDATE $db_name.$form{table} SET active='Y' WHERE ID='$id' LIMIT 1";
	$mdl_temp.="green";
  }
 }
 else
 {
  &save_log(1,"failed to change activation in $db_name.$form{table} id=$id");
  print "Location: $tom::H_media/grf/admin/list_y.gif\n\n";
	$mdl_temp.="none";
 }
 exit(0);

 my $box=&box_create2("data",
	'color_base0'	=>	"#0B63F1",
	'width'			=>	50,
	'height'		=>	50,	
	'close'			=>	"yes",
	'html'			=>	$mdl_temp);

 return $box;  
  
}

1;
